import{b as R,m as N,l as D,g as c,x as F,K as I,h as K,o as p,c as v,p as j,a,i,w as d,L as G,k as C,M as O,B as g,t as m,s as U,F as Z,q as A,z as q,N as z,O as h}from"./index-D4Mu-t5E.js";import{_ as H}from"./TheInput.vue_vue_type_script_setup_true_lang-B-Z5GJDM.js";import{_}from"./TheButton.vue_vue_type_script_setup_true_lang-DRDKjwQV.js";import{T as b}from"./TheTitle-CUokdGfA.js";import{_ as J}from"./TheModal.vue_vue_type_script_setup_true_lang-DRx45WaF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex mt-40 max-[886px]:my-20 max-md:px-10 flex-col mx-auto max-md:w-full justify-center"},Q={key:0},W={class:"text-start w-4/12 max-md:w-full mx-auto"},X={class:"w-4/12 max-md:w-full mx-auto"},Y={class:"mt-7 flex flex-col gap-y-6 mx-auto w-4/12 max-md:w-full"},ee={class:"flex justify-between"},te={class:"flex gap-y-6 flex-col px-14 py-10 max-sm:px-4"},le={class:"w-full flex justify-center gap-x-4 max-sm:gap-x-2"},ae=["onUpdate:modelValue","onInput","onKeydown"],se={class:"text-center w-6/12 mx-auto"},de=R({__name:"sign-up",setup(oe){const k=N(),L=D(),o=c(""),f=c(!1),r=c(["","","","",""]),w=c(""),x=c(!1);let u=null;const y=()=>{let e=5;x.value=!1,u=window.setInterval(()=>{e>0?(w.value=`Можно получить новый через ${e} сек`,e--):(clearInterval(u),w.value="",x.value=!0)},1e3)},$=()=>{u&&clearInterval(u),y()},V=(e,t)=>{const l=e.target;if(/^\d$/.test(l.value)){if(r.value[t]=l.value,t<r.value.length-1){const s=e.target.nextElementSibling;s==null||s.focus()}}else l.value=""},B=(e,t)=>{if(e.key==="Backspace"&&!r.value[t]&&t>0){const l=e.target.previousElementSibling;l==null||l.focus()}},T=(e,t)=>{if(e.key==="ArrowRight"){const l=e.target.nextElementSibling;l==null||l.focus()}},M=(e,t)=>{if(e.key==="ArrowLeft"){const l=e.target.previousElementSibling;l==null||l.focus()}},S=()=>{o.value.length<9&&O("Введите номер телефона",{autoClose:2e3,type:"error",theme:"dark"}),o.value.length===9&&(f.value=!0,y())},E=()=>{f.value=!1,o.value="",r.value=["","","","",""],u&&clearInterval(u),L.push("/sign-up/sign-upData")};return F(o,e=>{o.value=e.replace(/[^0-9]/g,"")}),I(()=>{u&&clearInterval(u),o.value="",r.value=["","","","","",""]}),(e,t)=>{const l=K("RouterView");return p(),v("div",P,[j(k).path!=="/sign-up/sign-upData"?(p(),v("div",Q,[a("div",W,[i(b,null,{default:d(()=>[g(m(e.$t("Регистрация")),1)]),_:1})]),a("div",X,[i(H,{"input-t":"number",type:"number",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=s=>o.value=s)},null,8,["modelValue"])]),a("div",Y,[i(_,{class:"py-2.5",type:"btnOrange",onClick:S},{default:d(()=>[g(m(e.$t("Подтвердить")),1)]),_:1})]),i(G,{name:"fade"},{default:d(()=>[f.value&&o.value.length===9?(p(),U(J,{key:0,"modal-class":"w-6/12 max-xl:w-8/12 max-[886px]:w-full",onShowModal:t[3]||(t[3]=s=>f.value=!1)},{default:d(()=>[a("div",ee,[a("div",{onClick:t[1]||(t[1]=s=>f.value=!1),class:"p-4 cursor-pointer rounded-lg bg-bgGray"},t[4]||(t[4]=[a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M3.37305 8.75203L8.5423 13.9213C8.69102 14.07 8.76441 14.244 8.76248 14.4434C8.76056 14.6428 8.68204 14.82 8.5269 14.9751C8.37179 15.12 8.19615 15.195 8 15.2001C7.80385 15.2052 7.62822 15.1302 7.4731 14.9751L1.13273 8.63473C1.03914 8.54115 0.97312 8.44243 0.934653 8.33858C0.896186 8.23475 0.876953 8.12258 0.876953 8.00206C0.876953 7.88154 0.896186 7.76937 0.934653 7.66553C0.97312 7.56168 1.03914 7.46297 1.13273 7.36938L7.4731 1.02901C7.61155 0.890543 7.78302 0.81971 7.9875 0.81651C8.19199 0.81331 8.37179 0.884143 8.5269 1.02901C8.68204 1.18413 8.7596 1.36233 8.7596 1.56361C8.7596 1.76489 8.68204 1.94309 8.5269 2.09821L3.37305 7.25208L14.75 7.25208C14.9628 7.25208 15.141 7.32388 15.2846 7.46746C15.4282 7.61104 15.5 7.78924 15.5 8.00206C15.5 8.21488 15.4282 8.39308 15.2846 8.53666C15.141 8.68024 14.9628 8.75203 14.75 8.75203L3.37305 8.75203Z",fill:"#FE5000"})],-1)])),a("div",{onClick:t[2]||(t[2]=s=>f.value=!1),class:"p-4 cursor-pointer rounded-lg bg-bgGray"},t[5]||(t[5]=[a("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M0.279605 1.59539L13.4046 14.7204C13.5691 14.9013 13.7993 15 14.0625 15C14.5724 15 15 14.5724 15 14.0625C15 13.7993 14.9013 13.5691 14.7204 13.4046L1.59539 0.279604C1.43092 0.0986838 1.20066 0 0.9375 0C0.427632 0 0 0.427631 0 0.937499C0 1.20066 0.0986841 1.43092 0.279605 1.59539ZM13.4046 0.279604L0.279605 13.4046C0.0986841 13.5691 0 13.7993 0 14.0625C0 14.5724 0.427632 15 0.9375 15C1.20066 15 1.43092 14.9013 1.59539 14.7204L14.7204 1.59539C14.9013 1.43092 15 1.20066 15 0.937499C15 0.427631 14.5724 0 14.0625 0C13.7993 0 13.5691 0.0986838 13.4046 0.279604Z",fill:"#FE5000"})],-1)]))]),a("div",te,[i(b,null,{default:d(()=>[g(m(e.$t("Введите код")),1)]),_:1}),a("div",null,[a("p",null,m(e.$t("На указанный Вами номер телефона выслано SMS с проверочным кодом. Пожалуйста введите его ниже.")),1)]),a("div",le,[(p(),v(Z,null,A(5,s=>q(a("input",{key:s,"onUpdate:modelValue":n=>r.value[s]=n,onInput:n=>V(n,s),onKeydown:[h(n=>T(n,s),["right"]),h(n=>M(n,s),["left"]),h(n=>B(n,s),["backspace"])],maxlength:"1",class:"w-[50px] h-[50px] rounded-lg text-center bg-bgGray outline-none text-2xl font-obold",type:"text"},null,40,ae),[[z,r.value[s]]])),64))]),i(_,{class:"py-3",type:"btnOrange",onClick:E},{default:d(()=>[g(m(e.$t("Подтвердить")),1)]),_:1})]),a("div",se,[a("p",null,m(w.value),1),x.value?(p(),v("button",{key:0,class:"cursor-pointer text-to hover:underline",onClick:$},m(e.$t("Отправить еще раз")),1)):C("",!0)])]),_:1})):C("",!0)]),_:1})])):C("",!0),i(l)])}}});export{de as default};
